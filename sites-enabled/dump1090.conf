http {
  include mime.types;

  server {    
    listen 80;
    server_name _; # Match any server name

    root /mnt/cyberserver/www; # Adjust the root path

    location /data {
      alias /run/dump1090; # Ensure this points to the correct path where dump1090 stores data
    }

    location /dump1090 {
      alias /mnt/cyberserver/www/dump1090/public_html; # Adjust the alias path
      try_files $uri $uri/ =404;
    }

    location / {
      return 404; # Return a 404 error for all other requests
    }

    location ~ \.php$ {
      include fastcgi_params;
      fastcgi_pass php-fpm:9000; # Ensure this matches the PHP-FPM service name
      fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
      fastcgi_index index.php;
    }
  }
}

events {
  worker_connections 1024;
}
